/*! fireNav (0.2.0) (C) 2014 CJ O'Hara. MIT @license: en.wikipedia.org/wiki/MIT_License */
var V=window.jQuery?$.Velocity:Velocity;!function(e,t,n){var a={};a.jump=function(e,i){function o(){for(var e=0;e<y.sections.length;e++){var t=a._utilities.getData(y.sections[e]),n=t.firenavJumpName?t.firenavJumpName:"",i=a._utilities.cleanString(n);if(y.sections[e].id=""!==y.sections[e].id?y.sections[e].id:i,""===y.sections[e].id&&""===i)return console.log('%cWARNING: Neither "data-firenav-jump-name" or "id" was found on section '+(e+1)+".","background: #E82C0C; color: white; padding: 0px 12px;"),!1}return!0}function r(e){var t=document.createElement("LI"),n=document.createElement("A"),i=a._utilities.getData(e);return n.href="#"+e.id,n.innerText=i.firenavJumpName?i.firenavJumpName:e.id,t.appendChild(n),t}function s(e,t){var n=[];for(e="undefined"!=typeof e.parentNode?e.parentNode:e;e;)a._utilities.matchesSelector(e,t)&&n.push(e),e=e.parentNode;return n}function l(e,t,n){for(var a=[],i=0;i<e.length;i++)s(e[i],t).length===n&&a.push(e[i]);return a}function c(e,t,a){for(var i=0;i<e.length;i++){var o=r(e[i]),l=e[i].querySelectorAll(t);if(l.length>0){var c=document.createElement("UL");o.appendChild(c)}var d=s(e[i],t),f=d.length>0?d.shift():n;u(f,o,a)}}function u(e,t,n){if("undefined"!=typeof e){var a="#"+e.id,i=n.querySelector('a[href="'+a+'"]').parentElement,o=i.querySelector("UL");o.appendChild(t)}else n.appendChild(t)}function d(e,t,n,a){var i=l(t,a,e);0!==i.length&&(c(i,a,n),e++,d(e,t,n,a))}function f(){var e=0,t=y.sections,n=document.createElement("UL"),a=y.options.section;d(e,t,n,a),y.nav.appendChild(n)}function v(e){for(var t=null,n=-1,i=0;i<e.length;i++){var o=a._utilities.getScrollTop(e[i]);Math.floor(o)<=y.options.offset&&(o>n||-1===n)&&(n=o,t=e[i])}return t}function p(e){for(var t=0;t<y.jumpLinks.length;t++){var n=y.jumpLinks[t].getElementsByTagName("A")[0];e.prevNode&&n.hash==="#"+e.prevNode&&a._utilities.removeClass(y.jumpLinks[t],e.className),e.nextNode&&n.hash==="#"+e.nextNode&&a._utilities.addClass(y.jumpLinks[t],e.className)}}function h(){if(y.activeHashNode!==v(y.sections)){var e=y.activeHashNode;y.activeHashNode=v(y.sections),p({prevNode:e?e.id:null,nextNode:y.activeHashNode?y.activeHashNode.id:null,className:y.options.activeClass})}}function m(e){a._utilities.listen(e,"click",function(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var a=e.target?e.target:e.srcElement,i=document.querySelector(a.hash);b=!0,V(i,"scroll",{duration:y.options.speed,easing:"ease-in-out",offset:y.options.offset,complete:function(){if(y.watchScroll=!1,y.activeHashNode!==i){var e=y.activeHashNode;y.activeHashNode=i,p({prevNode:e?e.id:null,nextNode:y.activeHashNode?y.activeHashNode.id:null,className:y.options.activeClass})}setTimeout(function(){y.options.updateHash&&(history.replaceState?history.replaceState(n,n,"#"+y.activeHashNode.id):t.location.replace&&t.location.replace("#"+y.activeHashNode.id)),y.watchScroll=!0},20),b=!1}})})}function g(){y.options.watchScroll&&a._utilities.listen(t,"scroll",function(){y.watchScroll&&(h(),y.options.updateHash&&!b&&(history.replaceState?history.replaceState(n,n,"#"+y.activeHashNode.id):t.location.replace&&t.location.replace("#"+y.activeHashNode.id)))})}function N(){if(o()){f();for(var e=0;e<y.nav.getElementsByTagName("a").length;e++){var t=y.nav.getElementsByTagName("a")[e];m(t)}h(),g()}}if("undefined"==typeof V)return void console.log("%cWARNING: fireNav requires velocity.js to run correctly.","background: #E82C0C; color: white; padding: 0 12px;");var b=!1,y={activeHashNode:null,jumpLinks:[],nav:{},options:{},selector:"",sections:[],watchScroll:!0};if(y.selector=e,y.nav=document.querySelector(y.selector),"undefined"!=typeof y.nav){var C={activeClass:"firenav-jump-active",offset:0,section:".firenav-section",speed:800,updateHash:!1,watchScroll:!0},S=a._utilities.getData(y.nav);y.data={firenavActiveClass:S.firenavActiveClass,offset:S.firenavOffset?parseInt(S.firenavOffset):n,section:S.firenavSection,speed:S.firenavSpeed?parseInt(S.firenavSpeed):n,updateHash:S.firenavUpateHash?a._utilities.getBoolean(S.firenavUpdateHash):n,watchScroll:S.firenavWatchScroll?a._utilities.getBoolean(S.firenavWatchScroll):n},a._utilities.removeUndefined(y.data);var w=a._utilities.extend(y.data,i);if(y.options=a._utilities.extend(w,C),y.sections=document.querySelectorAll(y.options.section),0!==y.sections.length)return N(),y}},a.tabs=function(e,i){function o(){for(var e=document.createElement("UL"),t=0;t<u.tabs.length;t++){var n=document.createElement("LI"),i=document.createElement("A"),o=a._utilities.getData(u.tabs[t]),r=o.firenavTab?o.firenavTab:"",s=a._utilities.cleanString(r);u.tabs[t].id=s,i.text=r,i.href="#"+s,n.appendChild(i),e.appendChild(n),u.tabLinks.push(n)}u.nav.appendChild(e)}function r(e){u.currentIndex>-1&&(u.tabs[u.currentIndex].style.display="none",a._utilities.removeClass(u.tabs[u.currentIndex],u.options.activeTabClass),a._utilities.removeClass(u.tabLinks[u.currentIndex],u.options.activeTabLinkClass)),u.tabs[e].style.display="block",a._utilities.addClass(u.tabs[e],u.options.activeTabClass),a._utilities.addClass(u.tabLinks[e],u.options.activeTabLinkClass),u.currentIndex=e}function s(e){a._utilities.listen(e,"click",function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,r(a._utilities.getNodeIndex(e.parentNode)),u.options.loadHash&&(history.replaceState?history.replaceState(n,n,e.hash):t.location.replace&&t.location.replace(e.hash))})}function l(e){for(var t=0;t<u.tabs.length;t++)if(u.tabs[t].id===e.replace("#",""))return t;return-1}function c(){o();for(var e=0;e<u.nav.getElementsByTagName("a").length;e++){var n=u.nav.getElementsByTagName("a")[e];s(n)}for(e=0;e<u.tabs.length;e++)u.tabs[e].style.display="none";var a=l(t.location.hash);r(u.options.loadHash&&a>-1?a:0)}var u={currentIndex:-1,data:{},nav:{},options:{},selector:"",tabLinks:[],tabs:[]};if(u.selector=e,u.nav=document.querySelector(u.selector),"undefined"!=typeof u.nav){var d={activeTabClass:"firenav-tab-active",activeTabLinkClass:"firenav-tab-link-active",loadHash:!0,tab:".tab"},f=a._utilities.getData(u.nav);u.data={activeTabClass:f.firenavActiveTabClass,activeTabLinkClass:f.firenavActiveTabLinkClass,loadHash:f.firenavLoadHash?a._utilities.getBoolean(f.firenavLoadHash):n,tab:f.firenavTab},a._utilities.removeUndefined(u.data);var v=a._utilities.extend(u.data,i);if(u.options=a._utilities.extend(v,d),u.tabs=document.querySelectorAll(u.options.tab),0!==u.tabs.length)return c(),u}},a._utilities={addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},getBoolean:function(e){return"true"===e.toLowerCase()},getNodeIndex:function(e){var t=0;if(null!==e){for(;e=e.previousSibling;)3==e.nodeType&&/^\s*$/.test(e.data)||t++;return t}return-1},matchesSel:function(e,t){for(var n=(e.document||e.ownerDocument).querySelectorAll(t),a=0;n[a]&&n[a]!==e;)a++;return n[a]?!0:!1},matchesSelector:function(e,t){for(var n=document.querySelectorAll(t),a=0;a<n.length;a++)if(n[a]===e)return!0;return!1},formatDataKey:function(e){var t=[];e=e.replace("data-",""),e=e.split("-"),t[0]=e[0];for(var n=1;n<e.length;n++)t.push(e[n].charAt(0).toUpperCase()+e[n].substr(1).toLowerCase());return t.join("")},getData:function(e){if(e.dataset)return e.dataset;for(var t=e.attributes,n={},i=t.length;i--;)if(/^data-.*/.test(t[i].name)){var o=a._utilities.formatDataKey(t[i].name),r=e.getAttribute(t[i].name);n[o]=r}return n},extend:function(e,t){var n=e||{},a=t||{};for(var i in a)a.hasOwnProperty=a.hasOwnProperty||Object.prototype.hasOwnProperty,a.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(n[i]=a[i]);return n},removeUndefined:function(e){for(var t in e)"undefined"==typeof e[t]&&delete e[t]},cleanString:function(e){return e.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/&#{0,1}[a-z0-9]+;/gi,"").replace(/[^\w\s]/gi,"").replace(/\s+/g,"-")},htmlEvents:{onload:1,onunload:1,onblur:1,onchange:1,onfocus:1,onreset:1,onselect:1,onsubmit:1,onabort:1,onkeydown:1,onkeypress:1,onkeyup:1,onclick:1,ondblclick:1,onmousedown:1,onmousemove:1,onmouseout:1,onmouseover:1,onmouseup:1},listen:function(e,t,n){e.listenListener?e.listenListener(t,n,!1):e.attachEvent&&a._utilities.htmlEvents["on"+t]?e.attachEvent("on"+t,n):e["on"+t]=n},getZoomAmount:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),n=t.right-t.left,a=document.body.offsetWidth;e=n/a}return e},getWindowScrollTop:function(){var e=0;return e="pageXOffset"in t?t.pageYOffset:document.documentElement.scrollTop/a._utilities.getZoomAmount()},getWindowScrollLeft:function(){var e=0;return e="pageXOffset"in t?t.pageXOffset:document.documentElement.scrollLeft/a._utilities.getZoomAmount()},getScrollTop:function(e){return e.getBoundingClientRect().top},getScrollLeft:function(e){return e.getBoundingClientRect().left}},t.FireNav=a}(window.FireNav=window.FireNav||{},window),window.jQuery&&!function(){$.fn.fireNavJump=function(e){var t=FireNav.jump(this.selector,e);return $(t)},$.fn.fireNavTabs=function(e){var t=FireNav.tabs(this.selector,e);return $(t)}}(window.jQuery);